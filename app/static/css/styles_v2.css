/* ============================================================
   VR TRAINING – styles_v2.css (DARK PRO) ✅ FULL CLEAN VERSION
   - Base dark theme
   - Bootstrap darkify (solo dentro de body.vr-body)
   - Components: glass/lift/chips/buttons
   - Athlete dashboard: hero/tabs/week/month/progress
   - Month grid (no overlap mobile)
   - Day modal + blocks + strength cards
   - Planificador grid fixes
============================================================ */

:root{
  --bg: radial-gradient(circle at 50% 20%, #111 0%, #000 90%);
  --panel: rgba(255,255,255,.06);
  --panel2: rgba(255,255,255,.08);
  --border: rgba(255,255,255,.12);

  --text: #fff;
  --muted: rgba(255,255,255,.65);

  --cyan: #22d3ee;
  --blue: #3b82f6;
  --danger: #ef4444;
  --success: #22c55e;

  --r: 14px;
  --r2: 10px;
}

/* ------------------------------------------------------------
   BASE
------------------------------------------------------------ */
body.vr-body{
  background: var(--bg);
  color: var(--text);
  font-family: "Rajdhani","Segoe UI",system-ui,sans-serif;
  min-height: 100vh;
}

/* Si tu navbar NO es fixed-top, no necesitamos padding grande */
.vr-main{
  padding-top: 18px;
  padding-bottom: 36px;
}

/* Si algún día la haces fixed-top, subís este padding desde HTML */
body.vr-body nav.navbar.fixed-top + main.vr-main{
  padding-top: 86px;
}

/* ------------------------------------------------------------
   NAVBAR
------------------------------------------------------------ */
.vr-navbar{
  background: rgba(0,0,0,.75) !important;
  backdrop-filter: blur(10px);
  border-bottom: 1px solid var(--border);
}

.vr-brand{
  letter-spacing: .8px;
  font-weight: 900;
  color: var(--text);
}

.vr-link{
  color: var(--text);
  opacity: .92;
  text-decoration: none;
  font-weight: 700;
}
.vr-link:hover{
  color: var(--cyan);
  opacity: 1;
}

/* ------------------------------------------------------------
   ALERTAS
------------------------------------------------------------ */
.vr-alert{
  border-radius: var(--r);
  border: 1px solid var(--border);
  background: rgba(0,0,0,.45);
  color: var(--text);
}

/* ------------------------------------------------------------
   DARKIFY Bootstrap sin romper arquitectura
------------------------------------------------------------ */
.vr-body .card,
.vr-body .list-group-item,
.vr-body .dropdown-menu,
.vr-body .modal-content{
  background: var(--panel);
  color: var(--text);
  border: 1px solid var(--border);
  border-radius: var(--r);
}

.vr-body .card-header{
  background: transparent;
  border-bottom: 1px solid var(--border);
  color: var(--text);
  font-weight: 900;
}

.vr-body .text-muted{
  color: var(--muted) !important;
}

.vr-body hr{
  border-color: var(--border);
  opacity: 1;
}

/* ------------------------------------------------------------
   FORMS
------------------------------------------------------------ */
.vr-body input,
.vr-body select,
.vr-body textarea{
  background: rgba(0,0,0,.35) !important;
  color: var(--text) !important;
  border: 1px solid var(--border) !important;
  border-radius: var(--r2) !important;
}

.vr-body input::placeholder,
.vr-body textarea::placeholder{
  color: rgba(255,255,255,.45) !important;
}

.vr-body input:focus,
.vr-body select:focus,
.vr-body textarea:focus{
  outline: none !important;
  border-color: var(--cyan) !important;
  box-shadow: 0 0 0 2px rgba(34,211,238,.28) !important;
  background: rgba(0,0,0,.45) !important;
}

.vr-body label{
  color: var(--muted);
  font-weight: 700;
}

/* Inputs custom */
.vr-input{
  background: rgba(0,0,0,.25) !important;
  border: 1px solid rgba(255,255,255,.12) !important;
  color: rgba(255,255,255,.92) !important;
  border-radius: 14px !important;
}
.vr-input::placeholder{ color: rgba(255,255,255,.45) !important; }

/* ------------------------------------------------------------
   BOTONES (Bootstrap base)
------------------------------------------------------------ */
.vr-body .btn{
  border-radius: var(--r2);
  font-weight: 900;
}

.vr-body .btn-primary{
  background: var(--blue) !important;
  border-color: var(--blue) !important;
}
.vr-body .btn-primary:hover{
  background: #2563eb !important;
  border-color: #2563eb !important;
}

.vr-body .btn-info,
.vr-body .btn-cyan{
  background: var(--cyan) !important;
  border-color: var(--cyan) !important;
  color: #001018 !important;
}

.vr-body .btn-danger{
  background: var(--danger) !important;
  border-color: var(--danger) !important;
}

.vr-body .btn-success{
  background: var(--success) !important;
  border-color: var(--success) !important;
}

/* ------------------------------------------------------------
   TABLAS
------------------------------------------------------------ */
.vr-body table{ color: var(--text); }

.vr-body thead{
  background: rgba(255,255,255,.08);
}
.vr-body thead th{
  color: var(--text);
  border-bottom: 1px solid var(--border) !important;
}
.vr-body tbody td{
  border-bottom: 1px solid rgba(255,255,255,.08) !important;
}
.vr-body tbody tr:hover{
  background: rgba(255,255,255,.04);
}

/* ------------------------------------------------------------
   BUILDER – ITEMS
------------------------------------------------------------ */
.vr-body .rutina-item,
.vr-body .builder-item,
.vr-body .exercise-item{
  background: rgba(255,255,255,.08);
  border: 1px solid rgba(255,255,255,.14);
  border-radius: var(--r);
  padding: 14px;
  margin-bottom: 14px;
}

.vr-body .rutina-item .bg-light,
.vr-body .builder-item .bg-light{
  background: rgba(255,255,255,.10) !important;
  border-radius: var(--r);
}

.vr-body .badge{
  background: rgba(255,255,255,.14);
  border: 1px solid rgba(255,255,255,.14);
  color: var(--text);
  border-radius: 999px;
}

/* ------------------------------------------------------------
   LINKS
------------------------------------------------------------ */
.vr-body a{ color: var(--cyan); }
.vr-body a:hover{ color: var(--blue); }

.vr-body .bg-white,
.vr-body .bg-body,
.vr-body .bg-light{
  background: transparent !important;
}

/* ============================================================
   ✅ UTIL DRAG
============================================================ */
.rb-handle { cursor: grab; user-select: none; -webkit-user-select: none; }
.rb-item { touch-action: none; }
.rb-ghost { opacity: .45; }

/* ============================================================
   ✅ COMPONENTS PREMIUM (glass / lift / chips / btn-vr)
============================================================ */
.glass{
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.12);
  box-shadow: 0 18px 60px rgba(0,0,0,.35);
  backdrop-filter: blur(10px);
}
.lift{
  transition: transform .12s ease, box-shadow .12s ease, border-color .12s ease;
}
.lift:hover{
  transform: translateY(-2px);
  box-shadow: 0 24px 80px rgba(0,0,0,.45);
  border-color: rgba(34,211,238,.22);
}

.chip{
  display:inline-flex;
  align-items:center;
  gap:.45rem;
  padding:.32rem .65rem;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(0,0,0,.20);
  color: rgba(255,255,255,.92);
  font-weight: 950;
  letter-spacing: .06em;
  font-size: .78rem;
  text-decoration:none;
}
.chip-green{
  background: rgba(34,197,94,.12);
  border-color: rgba(34,197,94,.28);
}
.chip-cyan{
  background: rgba(34,211,238,.12);
  border-color: rgba(34,211,238,.28);
}
.chip-danger{
  background: rgba(239,68,68,.12);
  border-color: rgba(239,68,68,.28);
}

.btn-vr{
  border-radius: 14px !important;
  font-weight: 950;
  letter-spacing: .03em;
  padding: .55rem .85rem;
}
.btn-vr.btn-primary{
  background: linear-gradient(135deg, rgba(59,130,246,1), rgba(34,211,238,.75)) !important;
  border: 1px solid rgba(34,211,238,.18) !important;
}
.btn-vr.btn-primary:hover{ filter: brightness(1.06); }

.btn-vr.btn-outline{
  background: rgba(0,0,0,.18) !important;
  border: 1px solid rgba(255,255,255,.14) !important;
  color: rgba(255,255,255,.92) !important;
}
.btn-vr.btn-outline:hover{
  border-color: rgba(34,211,238,.30) !important;
  box-shadow: 0 12px 30px rgba(34,211,238,.08);
}

.btn-vr.btn-ghost{
  background: transparent !important;
  border: 1px solid rgba(255,255,255,.10) !important;
  color: rgba(255,255,255,.82) !important;
}
.btn-vr.btn-ghost:hover{ border-color: rgba(255,255,255,.22) !important; }

/* Progress */
.vr-progress{
  height: 10px;
  border-radius: 999px;
  overflow: hidden;
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.10);
}
.vr-progress .progress-bar{
  background: linear-gradient(90deg, rgba(34,211,238,.80), rgba(59,130,246,.95));
}

/* ============================================================
   ✅ ATHLETE DASHBOARD PREMIUM
============================================================ */
.vr-athlete .link-unstyled{ text-decoration:none; }

.vr-hero{
  position: relative;
  overflow: hidden;
}
.vr-hero:before{
  content:"";
  position:absolute;
  inset:-60px -60px auto auto;
  width:260px; height:260px;
  background: radial-gradient(circle at 30% 30%, rgba(0,229,255,.25), transparent 70%);
  filter: blur(10px);
  pointer-events:none;
}

.vr-avatar-xl{
  width:54px; height:54px;
  display:grid; place-items:center;
  border-radius: 18px;
  background: rgba(0,229,255,.12);
  border: 1px solid rgba(0,229,255,.22);
  color: rgba(255,255,255,.92);
  font-size: 1.3rem;
}

.vr-kicker{
  font-size: .78rem;
  letter-spacing: .18em;
  text-transform: uppercase;
  font-weight: 950;
  color: rgba(255,255,255,.62);
}

.vr-hero-title{
  font-weight: 950;
  font-size: 1.35rem;
  letter-spacing: .01em;
  color: rgba(255,255,255,.94);
}
.vr-hero-sub{
  margin-top: 4px;
  color: rgba(255,255,255,.60);
}

.vr-mini{
  padding: 10px 12px;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,.09);
  background: rgba(255,255,255,.04);
  min-width: 120px;
}
.vr-mini-wide{ min-width: 230px; }
.vr-mini-title{
  font-size: .75rem;
  letter-spacing: .18em;
  font-weight: 950;
  color: rgba(255,255,255,.55);
}
.vr-mini-value{
  font-size: 1rem;
  font-weight: 950;
  color: rgba(255,255,255,.92);
}

.vr-tabs{
  display:flex;
  gap:10px;
  flex-wrap: wrap;
}
.vr-tab{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding: 10px 12px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.04);
  color: rgba(255,255,255,.82);
  font-weight: 900;
  text-decoration:none;
}
.vr-tab:hover{
  border-color: rgba(0,229,255,.25);
  box-shadow: 0 12px 30px rgba(0,229,255,.06);
}
.vr-tab.active{
  background: rgba(0,229,255,.12);
  border-color: rgba(0,229,255,.28);
  color: rgba(255,255,255,.95);
}

.vr-h2{ font-size: 1.35rem; font-weight: 950; letter-spacing:.02em; }
.vr-h3{ font-size: 1.15rem; font-weight: 950; letter-spacing:.02em; }

.divider-soft{
  height:1px;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,.12), transparent);
}

.vr-today-preview{
  border: 1px solid rgba(255,255,255,.08);
  background: rgba(255,255,255,.03);
  border-radius: 18px;
  padding: 12px;
}
.vr-today-label{
  font-size: .75rem;
  letter-spacing: .18em;
  font-weight: 950;
  color: rgba(255,255,255,.55);
  margin-bottom: 6px;
}
.vr-today-text{
  color: rgba(255,255,255,.80);
  font-weight: 750;
}

/* Week cards */
.vr-day-card{
  position: relative;
  overflow: hidden;
  min-height: 260px;
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.06);
  padding: 14px;
}
.vr-day-card.is-done{
  border-color: rgba(46,229,157,.28) !important;
  box-shadow: 0 0 0 2px rgba(46,229,157,.08), 0 18px 50px rgba(0,0,0,.35);
}
.vr-day-title{
  font-weight: 950;
  letter-spacing: .10em;
  color: rgba(255,255,255,.90);
}
.vr-day-snippet{
  color: rgba(255,255,255,.66);
  font-weight: 700;
  font-size: .95rem;
  min-height: 44px;
}

/* ============================================================
   ✅ ACTIVITY BADGE (plan_type icon + text)
============================================================ */
.vr-activity-badge{
  display:inline-flex;
  align-items:center;
  gap:.5rem;
  padding:.30rem .65rem;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.12);
  background: rgba(0,0,0,.22);
}
.vr-activity-badge .vr-activity-icon{
  width:18px;
  height:18px;
  object-fit:contain;
  filter: drop-shadow(0 2px 6px rgba(0,0,0,.35));
}
.vr-activity-badge .vr-activity-text{
  font-weight: 900;
  letter-spacing:.06em;
  font-size:.82rem;
  color: rgba(255,255,255,.90);
  text-transform: uppercase;
}
.vr-activity-badge.sm{ padding:.22rem .55rem; }
.vr-activity-badge.sm .vr-activity-icon{ width:16px; height:16px; }
.vr-activity-badge.sm .vr-activity-text{ font-size:.78rem; }

/* ============================================================
   ✅ MONTH GRID (perfil -> Mes) – clean + no overlap
============================================================ */
.month-grid{
  display: grid;
  grid-template-columns: repeat(7, minmax(0, 1fr));
  gap: 10px;
  align-items: stretch;
}

.month-head{
  text-align: center;
  font-weight: 900;
  letter-spacing: .10em;
  color: rgba(255,255,255,.72);
  padding: 8px 0;
  border: 1px solid rgba(255,255,255,.08);
  border-radius: 12px;
  background: rgba(255,255,255,.04);
}

.month-cell{
  position: relative;
  border-radius: 14px;
  padding: 10px 10px 12px;
  min-height: 92px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.32);
  cursor: pointer;
  transition: transform .08s ease, border-color .12s ease, background .12s ease;
  overflow: hidden; /* ✅ clave */
}

.month-cell:hover{
  transform: translateY(-1px);
  border-color: rgba(34,211,238,.35);
  background: rgba(255,255,255,.06);
}
.month-cell:active{ transform: translateY(0px) scale(.995); }

.month-cell.empty{
  cursor: default;
  border: 1px dashed rgba(255,255,255,.08);
  background: rgba(255,255,255,.02);
}

.month-cell .daynum{
  font-weight: 900;
  font-size: .95rem;
  color: rgba(255,255,255,.92);
}

.month-cell.blocked{
  background: rgba(255, 59, 48, 0.18) !important;
  border: 1px solid rgba(255, 59, 48, 0.55) !important;
  box-shadow: 0 0 0 1px rgba(255,59,48,0.15) inset;
}
.month-cell.blocked .daynum{ color: rgba(255,255,255,.95) !important; }

/* icon+text */
.month-cell .ptype-icon{
  margin-top: 8px;
  display:flex;
  align-items:center;
  justify-content:flex-start;
  gap:8px;
  opacity: .95;
  max-width: 100%;
  min-width: 0;
  flex-wrap: nowrap;
}
.month-cell .ptype-icon img{
  width:18px;
  height:18px;
  object-fit:contain;
}
.month-cell .ptype-icon span{
  font-size:.80rem;
  font-weight: 900;
  color: rgba(255,255,255,.82);
  text-transform: uppercase;
  letter-spacing:.06em;
  display:block;
  min-width: 0;
  max-width: 100%;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* Flag bloqueo */
.vr-month-flag{
  position:absolute;
  top:8px; right:8px;
  width:26px; height:26px;
  display:grid; place-items:center;
  border-radius: 999px;
  background: rgba(255,59,48,.14);
  border: 1px solid rgba(255,59,48,.28);
  color: rgba(255,255,255,.92);
}

/* mobile */
@media (max-width: 520px){
  .month-grid{ gap: 8px; }
  .month-head{ padding: 6px 0; font-size: .9rem; border-radius: 12px; }
  .month-cell, .month-cell.empty{ min-height: 74px; padding: 8px; border-radius: 12px; }
  .month-cell .ptype-icon{ margin-top: 6px; gap: 6px; }
  .month-cell .ptype-icon img{ width:16px; height:16px; }
  .month-cell .ptype-icon span{ font-size:.74rem; letter-spacing:.05em; }
}

/* extra small: solo icono */
@media (max-width: 420px){
  .month-cell .ptype-icon span{ display:none; }
  .vr-mini-wide{ min-width: 100%; }
  .vr-tabs{ gap: 8px; }
  .vr-tab{ padding: 9px 11px; font-size: .92rem; }
}

/* ============================================================
   ✅ PROGRESS BARS (perfil -> Progreso)
============================================================ */
.vr-bars{
  display:flex;
  align-items:flex-end;
  gap:8px;
  height: 74px;
}
.vr-bar{
  flex:1;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.22);
  overflow:hidden;
}
.vr-bar-fill{
  width: 100%;
  height: 0%;
  background: rgba(34,211,238,.72);
  transition: height .25s ease;
}
.vr-days{
  display:flex;
  justify-content: space-between;
  font-weight: 950;
  letter-spacing: .08em;
}

/* ============================================================
   ✅ DAY MODAL + SECTIONS + BLOCKS
============================================================ */
.day-modal{
  background: radial-gradient(circle at 50% 20%, #111 0%, #000 90%) !important;
  color: rgba(255,255,255,.92);
}
.day-modal .modal-body{ background: transparent; }
.day-modal .modal-header{ border-bottom: 1px solid rgba(255,255,255,.10); }

.day-chip{
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.06);
  border-radius: 999px;
  padding: 6px 10px;
  font-weight: 900;
  font-size: .82rem;
  letter-spacing:.06em;
}

.day-section{
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.03);
  border-radius: 18px;
  padding: 12px;
}
.day-section-title{
  font-weight: 950;
  letter-spacing: .14em;
  text-transform: uppercase;
  font-size: .78rem;
  color: rgba(255,255,255,.72);
  margin-bottom: 10px;
}

.blocks-wrap{ display:grid; gap:12px; }

.block-card{
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.03);
  border-radius: 18px;
  padding: 12px;
}
.block-head{
  display:flex;
  justify-content: space-between;
  align-items:flex-start;
  gap:10px;
}
.block-left{ display:flex; gap:10px; align-items:flex-start; }
.block-icon{
  width:40px;height:40px;border-radius:14px;
  border:1px solid rgba(255,255,255,.14);
  background: rgba(255,255,255,.05);
  display:flex;align-items:center;justify-content:center;
  flex: 0 0 auto;
}
.block-title{ font-weight: 950; color: rgba(255,255,255,.96); line-height: 1.1; }
.block-sub{
  color: rgba(255,255,255,.72);
  font-weight: 800;
  font-size: .92rem;
  margin-top: 4px;
  line-height: 1.2;
}
.block-actions{ display:flex; gap:8px; flex-wrap:wrap; margin-top: 10px; }

/* ============================================================
   ✅ STRENGTH EXERCISES (perfil -> fuerza/stretch)
============================================================ */
.exercise-card{
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.03);
  border-radius: 18px;
  overflow:hidden;
  box-shadow: 0 10px 30px rgba(0,0,0,.35);
  transition: border-color .15s ease, box-shadow .15s ease, background .15s ease;
}
.exercise-head{
  padding: 10px 12px;
  display:flex;
  justify-content: space-between;
  align-items:flex-start;
  gap:10px;
}
.exercise-name{ font-weight: 900; font-size: 1.02rem; color: rgba(255,255,255,.96); }
.exercise-meta{ font-size:.92rem; color: rgba(255,255,255,.80); }

.exercise-video{ padding: 10px 12px 12px; }
.exercise-video video{
  width:100%;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,.18);
  background: rgba(0,0,0,.35);
  min-height: 220px;
  object-fit: cover;
}

/* Done */
.exercise-card.done{
  border-color: rgba(34,197,94,.55) !important;
  box-shadow: 0 0 0 2px rgba(34,197,94,.18), 0 10px 30px rgba(0,0,0,.35);
  background: rgba(34,197,94,.06) !important;
}
.exercise-card.done .exercise-name{ color: rgba(220,255,235,.95) !important; }
.exercise-card.done .exercise-meta{ color: rgba(200,255,220,.80) !important; }

/* ============================================================
   ✅ PLANIFICADOR FIX (grid + sidebar sticky)
============================================================ */
.vr-page{
  width: 100%;
  max-width: 1240px;
  margin: 0 auto;
  padding: 18px 16px 26px;
}

.vr-plani-grid{
  display: grid;
  grid-template-columns: 1fr 420px;
  gap: 14px;
  align-items: start;
}

@media (max-width: 1100px){
  .vr-plani-grid{ grid-template-columns: 1fr; }
  .vr-sidebar{ position: static; top: auto; }
}

.vr-days-grid{
  display:grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 14px;
}
@media (max-width: 780px){
  .vr-days-grid{ grid-template-columns: 1fr; }
}

/* Sidebar sticky sin superposición */
.vr-sidebar{
  position: sticky;
  top: 96px;
  align-self: start;
}
.vr-sidebar .card{ overflow: hidden; }
