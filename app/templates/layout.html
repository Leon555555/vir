<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>{% block title %}ViR{% endblock %}</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {background-color: #0b0c10; color: #f5f5f5; font-family: 'Poppins', sans-serif;}
    a {text-decoration: none;}
    .fade-in {animation: fadeIn .4s ease-out both;}
    @keyframes fadeIn {from{opacity:0;transform:translateY(10px);}to{opacity:1;transform:none;}}
    footer {margin-top: 60px; font-size: 0.9em; color: #aaa; text-align:center;}
  </style>
</head>
<body class="fade-in">

<nav class="navbar navbar-dark bg-dark mb-4 shadow-sm">
  <div class="container">
    <a href="/" class="navbar-brand fw-bold text-danger">ViR</a>
    {% if current_user.is_authenticated %}
      <a href="{{ url_for('main.logout') }}" class="btn btn-outline-light btn-sm">Cerrar sesiÃ³n</a>
    {% endif %}
  </div>
</nav>

<div class="container">
  {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      {% for category, message in messages %}
        <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">{{ message }}</div>
      {% endfor %}
    {% endif %}
  {% endwith %}
</div>

{% block content %}{% endblock %}

<footer>Â© {{ datetime.utcnow().year }} ViR â€” Vital Intelligence & Resilience</footer>

<div id="loading" style="position:fixed;top:0;left:0;width:100%;height:100%;background:black;display:flex;align-items:center;justify-content:center;z-index:9999;">
  <div class="text-center">
    <img src="https://media.tenor.com/_B5v5nR4zDkAAAAi/lion-run.gif" alt="ViR loading" style="width:120px;">
    <h4 class="text-danger mt-3">Cargando tu energÃ­a ðŸ”¥</h4>
  </div>
</div>

<script>
window.addEventListener('load', ()=> {
  const loader = document.getElementById('loading');
  loader.style.opacity = '0';
  setTimeout(()=> loader.remove(), 600);
});
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
