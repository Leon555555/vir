<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>{% block title %}VR TRAINING{% endblock %}</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    :root {
      --black: #000;
      --white: #fff;
      --cyan: #22d3ee;
      --red: #ef4444;
      --dark: #0a0a0a;
    }

    * { box-sizing: border-box; }

    body {
      background: radial-gradient(circle at 50% 20%, #111 0%, #000 90%);
      color: var(--white);
      font-family: "Rajdhani", sans-serif;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    header.navbar {
      background-color: rgba(0, 0, 0, 0.7);
      border-bottom: 1px solid var(--cyan);
      padding: 0.8rem 1.5rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      backdrop-filter: blur(8px);
    }

    .brand-wrap { display: flex; align-items: center; gap: 1rem; }
    .brand-wrap img { height: 44px; filter: drop-shadow(0 0 8px var(--cyan)); }
    .brand-name { font-size: 1.5rem; font-weight: 700; color: var(--cyan); letter-spacing: 1px; }

    .nav-links a {
      color: var(--white);
      margin-left: 1.2rem;
      text-decoration: none;
      font-weight: 600;
    }

    .nav-links a:hover { color: var(--cyan); }

    main.container { flex: 1; padding: 2rem 1rem; }

    footer {
      text-align: center;
      font-size: 0.9rem;
      padding: 1rem;
      border-top: 1px solid rgba(255,255,255,0.1);
      color: #999;
    }

    .btn-glow {
      background: linear-gradient(90deg, var(--cyan), #00bfff);
      color: #000;
      font-weight: 700;
      border: none;
      box-shadow: 0 0 12px var(--cyan);
      transition: 0.25s ease;
    }

    .btn-glow:hover {
      transform: scale(1.05);
      box-shadow: 0 0 18px var(--cyan);
      color: #000;
    }

    /* ============================
       ENTRENADOR VARIANTE ROJA
    ============================ */
    .coach .btn-glow {
      background: linear-gradient(90deg, var(--red), #ff5555);
      box-shadow: 0 0 12px var(--red);
    }

    .coach .btn-glow:hover {
      box-shadow: 0 0 18px var(--red);
    }

    .coach header.navbar { border-bottom: 1px solid var(--red); }
    .coach .brand-wrap img { filter: drop-shadow(0 0 8px var(--red)); }
    .coach .brand-name { color: var(--red); }

    .week-grid {
      display: grid;
      grid-template-columns: repeat(7, minmax(180px, 1fr));
      gap: 12px;
      overflow-x: auto;
      padding-bottom: 6px;
    }

    .day-card {
      background: #111;
      border: 1px solid rgba(255,255,255,0.08);
      border-radius: 14px;
      padding: 14px;
    }

    .badge-chip {
      background: #000;
      border: 1px solid var(--cyan);
      color: var(--cyan);
      padding: .2rem .6rem;
      border-radius: 999px;
      font-size: .8rem;
    }

    #graficoProgreso { height: 200px !important; }
  </style>
</head>

<body class="{% if current_user.email == 'admin@vir.app' %}coach{% endif %}">
  <header class="navbar">
    <div class="brand-wrap">
      <img src="{{ url_for('static', filename='logo_blanco_vr_training.png') }}" alt="VR Training">
      <span class="brand-name">VR TRAINING</span>
    </div>

    <div class="nav-links">
      {% if current_user.is_authenticated %}
        <a href="{{ url_for('main.perfil') }}"><i class="bi bi-person-badge me-1"></i>Perfil</a>
        {% if current_user.email == 'admin@vir.app' %}
          <a href="{{ url_for('main.dashboard_entrenador') }}"><i class="bi bi-speedometer2 me-1"></i>Dashboard</a>
        {% endif %}
        <a href="{{ url_for('main.logout') }}"><i class="bi bi-box-arrow-right me-1"></i>Salir</a>
      {% else %}
        <a href="{{ url_for('main.login') }}"><i class="bi bi-box-arrow-in-right me-1"></i>Entrar</a>
      {% endif %}
    </div>
  </header>

  <main class="container">
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
          <div class="alert alert-{{ category }} mt-2">{{ message }}</div>
        {% endfor %}
      {% endif %}
    {% endwith %}
    {% block content %}{% endblock %}
  </main>

  <footer>© {{ datetime_now().year }} VR TRAINING — All rights reserved</footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  {% block scripts %}{% endblock %}
</body>
</html>
